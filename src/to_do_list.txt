Change Log
----------
v1.1.2  - Added syslog configuration in web page and syslong switch button in mqtt
          + Added new variables to samples: debugModeOn, serialLogsOn, webLogsOn, sysLogsOn, sysLogServer, sysLogServerUDPPort
        - Web forms based on json variable readings 
        - Actions in the main loop are ignored if webserver is serving content (webServerResponding flag) to avoid risking heap leakage
        - Enriche logs to track heap size
        - Track mqtt publish activity
          + change forceMQTTpublish from bool to uint8_t to track the reasons to publish mqtt messages
        - printLogs with heap memory in webServer funcions
        - avoid serving web pages if other heavy processes are ongoing (mqtt publishing, send http updates) (new blockWebServer variable)
          + Increase Task Watchdog Timeout to ESP_TASK_WDT_TIMEOUT - esp_task_wdt_init(ESP_TASK_WDT_TIMEOUT, true);
        - Optimize HTTP_POST code
          + In webserver, http_post, change if ()..., if()..., if ()... by if ()..., else if()..., else if ()...
        - Checks heap size in webServer.cpp
        - Heap check done in mqttClientPublishHADiscovery() rather than in mqtt_publish_samples()
          + Check based on esp_get_free_heap_size() instead of heap_caps_get_largest_free_block(MALLOC_CAP_8BIT)
v1.1.1  - Dynamic mqtt icon for boiler and radiator in index.html. Icon change based on boilerOn or thermostateOn variables (flame on/off)
        - Heap size optimization:
          + mqtt buffers converted into global variables: bufferTopicHAName, bufferPayload, bufferMqttTopicName, bufferDeviceSufix, bufferIpAddress, bufferDevice,
             bufferMqttSensorTopicHAPrefixName,  bufferMqttBinarySensorTopicHAPrefixName,  bufferMqttSwitchTopicHAPrefixName,  bufferMqttButtonTopicHAPrefixName
        - Added syslog support
v1.1.0  - New approach based on updating html id tags with javascript for serving dynamic web content
          + graphs and container still with ~ processing
        - New boiler icon if it's burning gas (boilerOn or thermostateOn)
v1.0.0  - First stable complete version
        - New line for "Power Thresh. (W):" in cloud.html
        - New icons for HA:
          + counter = mdi:counter
          + ip      = mdi:ip-network
          + upTime  = mdi:clock-end
          Troubleshooting:
           + IS0018: Not MQTT subscription to Energy topic (SmartPlug) after enabling it in cloud.html   
v0.9.B  - JSON samples variable redefined to avoid unnecessary String values
        - New strategy to create the mqtt HADiscovery message payload different than String to reduce heap consumption
        - Defined number of float decimales in value_template field of the MQTT messages (temperature, gas, etc.)
        - Reading samples (and sending MQTT and web SSE events) every:
          + SAMPLE_PERIOD (20 sg) if gas burning (either warming water or heater) or !gasClear
          + SAMPLE_PERIOD (300 sg) if no gas burning and gasClear
          + Both MQTT messages and web SSE Events are sent upon receiving MQTT messages from the SmartPlug, regardles the SAMPLE_PERIOD value
        - Send httpCloud update at boot time to clean up the iot file
        - Delay sending the first HA Discovery message to avoid risking heap leakage
        - Set Power Threshold from web
        - Troubleshooting
          + IS0014: boilerOnToday and boilerOnYesterday not saved correctly in EEPROM when changing day
            * boilerOnYesterday=0, boilerOnToday=88 => change day => boilerOnYesterday=88, boilerOnToday=0 => Reboot ==> boilerOnYesterday=0, boilerOnToday=198
          + IS0015: boiler and heater Time On Mounth counters not reset
          + IS0016: Some objects in the HA Discovery message are not recognized by HA in the very first packet sent after booting up
v0.9.A  - Color grey Web boiler icon and Energy info if not powerMeasureEnabled
        - Set N/A or N/E to the values related to SmartPlug if powerMeasureEnabled is disabled from web
        - Troubleshooting
          + ISS010: Time On Today counter not saved in Yesterday when passing to the next day
          + ISS011: No subscripion on MQTT power Topic after enabling MQTT Power Measurements in web
v0.9.9  - Remove year from the MQTT topic for both previous and current years
        - Added support for MQTT Power Topic subscription
        - Added boiler activity info (on and burning gas) in the index web page
v0.9.8  - Added Stats web page
v0.9.7  - Added Dasboard web page
          + Web Event for sample update
          + Web Socket for toogle the Relay switches
v0.9.6  - Error counters save in EEPROM
        - Added button to reset counters
        - Added specific counter for resets due to web server failing
v0.9.5  - New variables for:
          + Min heap size seen since last boot
          + debugModeOn => Global logs ON/OFF
          + serialLogsOn => Serial logs ON/OFF
          + webLogsOn => Web logs ON/OFF
          + Web configuration/visualization support
        - Check connectivity and webserver and restart if needed
        - Forcing to free up heap memory in the event it's below a thresholds
          + Switch WiFi OFF/ON, WebServer OFF/ON, etc.
v0.9.4  - Minor bug fixing
v0.9.3  - Bug fixing ISS001
v0.9.2  - Init NTP-dependant modules after NTP initialization during normal execution:
          + EEPROM Time counters
        - Init wifi-dependant modules after wifi initialization during normal execution:
          + NTP, WebServer, WebSocket, MQTT, Upload server
v0.9.1  - WebSerial for log webconsole
        - OTA support
        - Web logs support
        - Time counters saved in EEPPROM
v0.9.0  - MQTT improvements
	        + Time on counters: year, moths, yesterday, today
v0.8.9  - First stable version with HA support


To do list for boiler relay control
-----------------------------------
- New variable to track the time the flame is on (boilerFlameTimeOnPreviousYear boilerFlameTimeOnYear heaterFlameTimeOnPreviousYear heaterFlameTimeOnYear
- Not serve web pages if heapSize, heapBlockSize are below thresholds
- In Reset page, WSSE to detect the IoT is back to normal operation after restarting
- Troubleshooting:
  + ISS018: boiler icon not updated in web when power goes from 228 to 164
    Jul 13 13:09:50 192.168.100.215 PicoSyslog 437195 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:09:51 192.168.100.215 PicoSyslog 438181 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:09:51","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.448,"Yesterday":0.294,"Today":0.136,"Power":239,"ApparentPower":324,"ReactivePower":219,"Factor":0.74,"Voltage":326,"Current":0.993}}', index: 4013043764, heapSize=114268B, heapBlock=58356 B
    Jul 13 13:09:51 192.168.100.215 PicoSyslog 438222 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:09:52 192.168.100.215 PicoSyslog 439201 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:09:52","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.448,"Yesterday":0.294,"Today":0.136,"Power":237,"ApparentPower":324,"ReactivePower":221,"Factor":0.73,"Voltage":326,"Current":0.993}}', index: 4011994169, heapSize=114244B, heapBlock=58356 B
    Jul 13 13:09:52 192.168.100.215 PicoSyslog 439242 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:09:53 192.168.100.215 PicoSyslog 439584  - [loop] - GAS interrupt detected and gas_probe_triggered routine triggered: gasClear flag was '1' (1=NO GAS, 0=GAS)
    Jul 13 13:09:53 192.168.100.215 PicoSyslog 439584 - [loop - gas_sample] - GAS interrupt detected. Checking on GAS samples. heapSize=115044, heapBlockSize=58356, minHeapSeen=31456 - 
    Jul 13 13:09:53 192.168.100.215 PicoSyslog         [get_resistence_ratio] - GAS Samples taken.
    Jul 13 13:09:53 192.168.100.215 PicoSyslog              gasVoltCalibrated=142.47mv, RS_CurrentCalibrated=22.16, R0_CALIBRATED=3.42, ratio RS_CurrentCalibrated/R0_CALIBRATED=6.48
    Jul 13 13:09:53 192.168.100.215 PicoSyslog         [loop - gas_sample] - Clean air detected. Digital sensor input: 1 (1=NO GAS, 0=GAS)
    Jul 13 13:09:53 192.168.100.215 PicoSyslog 439658 - [loop - gas_sample] - Exit now. heapSize=115436, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:53 192.168.100.215 PicoSyslog 439661  - [loop] - GAS clear after getting readings, so GAS interrupt was wrong, probably cause thermostast interrupt. Don't send MQTT message.
    Jul 13 13:09:53 192.168.100.215 PicoSyslog 439883 - [loop - thermostate_interrupt_triggered] - Interrupt detected - Reason: Thermostate=0 Status (thermostateStatus) was=OFF. heapSize=115416, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:53 192.168.100.215 PicoSyslog          [loop - thermostate_interrupt_triggered] - Strange, thermostate status was already OFF, rebounds=17. Consider to increase THERMOSTATE_INTERRUPT_DELAY (300 ms)
    Jul 13 13:09:53 192.168.100.215 PicoSyslog 439913 - [loop - thermostate_interrupt_triggered] - Exit now. heapSize=115080, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440224 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:09:53","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.448,"Yesterday":0.294,"Today":0.136,"Power":226,"ApparentPower":322,"ReactivePower":230,"Factor":0.70,"Voltage":326,"Current":0.988}}', index: 4012860517, heapSize=114184B, heapBlock=58356 B
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440265 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440290 - [loop - mqtt_publish_samples] - Publishing message, reason=18, heapSize=115460, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440307 - [loop - mqtt_publish_samples] - Publish samples message now. heapSize=109612, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440316 - [loop - mqtt_publish_samples] - Exit. heapSize=103268, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440347 - [loop] - new_samples event sent to web clients. heapSize=93472, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440394 - [webServer.on] - /boiler-orange.png, heapSize=110824, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:54 192.168.100.215 PicoSyslog 440418 - [webServer.on] - /boiler-orange.png exit. heapSize=106136, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:09:55 192.168.100.215 PicoSyslog 441249 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:09:54","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.448,"Yesterday":0.294,"Today":0.136,"Power":227,"ApparentPower":322,"ReactivePower":228,"Factor":0.71,"Voltage":326,"Current":0.988}}', index: 4016989557, heapSize=114164B, heapBlock=58356 B
    Jul 13 13:09:55 192.168.100.215 PicoSyslog 441290 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR

    [..........]

    Jul 13 13:10:29 192.168.100.215 PicoSyslog - - - 476172 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:29","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.450,"Yesterday":0.294,"Today":0.138,"Power":242,"ApparentPower":306,"ReactivePower":188,"Factor":0.79,"Voltage":326,"Current":0.938}}', index: 4016859503, heapSize=113424B, heapBlock=58356 B
    Jul 13 13:10:29 192.168.100.215 PicoSyslog              gasVoltCalibrated=142.00mv, RS_CurrentCalibrated=22.24, R0_CALIBRATED=3.42, ratio RS_CurrentCalibrated/R0_CALIBRATED=6.50476230 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    [..........]
    Jul 13 13:10:29 192.168.100.215 PicoSyslog - - - 476389 - [webServer.on] - /boiler-orange-flame.png, heapSize=110800, heapBlockSize=58356, minHeapSeen=31456
    [..........]
    Jul 13 13:10:30 192.168.100.215 PicoSyslog 477202 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:30","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.450,"Yesterday":0.294,"Today":0.138,"Power":238,"ApparentPower":324,"ReactivePower":220,"Factor":0.73,"Voltage":326,"Current":0.993}}', index: 4016335222, heapSize=103624B, heapBlock=58356 B
    Jul 13 13:10:31 192.168.100.215 PicoSyslog 477244 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:10:32 192.168.100.215 PicoSyslog 478215 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:31","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.451,"Yesterday":0.294,"Today":0.138,"Power":239,"ApparentPower":323,"ReactivePower":219,"Factor":0.74,"Voltage":326,"Current":0.991}}', index: 0, heapSize=114224B, heapBlock=58356 B
    [..........]
    Jul 13 13:10:34 192.168.100.215 PicoSyslog 481185 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:34","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.451,"Yesterday":0.294,"Today":0.139,"Power":226,"ApparentPower":322,"ReactivePower":229,"Factor":0.70,"Voltage":326,"Current":0.988}}', index: 0, heapSize=113936B, heapBlock=58356 B
    Jul 13 13:10:34 192.168.100.215 PicoSyslog 481226 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:10:35 192.168.100.215 PicoSyslog 481248 - [loop - mqtt_publish_samples] - Publishing message, reason=18, heapSize=114504, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:35 192.168.100.215 PicoSyslog 481265 - [loop - mqtt_publish_samples] - Publish samples message now. heapSize=109368, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:35 192.168.100.215 PicoSyslog 481273 - [loop - mqtt_publish_samples] - Exit. heapSize=104576, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:35 192.168.100.215 PicoSyslog 481304 - [loop] - new_samples event sent to web clients. heapSize=91604, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:35 192.168.100.215 PicoSyslog 481359 - [webServer.on] - /boiler-orange.png, heapSize=110568, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:35 192.168.100.215 PicoSyslog 481403 - [webServer.on] - /boiler-orange.png exit. heapSize=107336, heapBlockSize=58356, minHeapSeen=31456
    
    [..........]
    Jul 13 13:10:40 192.168.100.215 PicoSyslog 486243 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:10:41 192.168.100.215 PicoSyslog 487227 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:40","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.451,"Yesterday":0.294,"Today":0.139,"Power":229,"ApparentPower":306,"ReactivePower":204,"Factor":0.75,"Voltage":326,"Current":0.938}}', index: 0, heapSize=113864B, heapBlock=58356 B
    Jul 13 13:10:41 192.168.100.215 PicoSyslog 487267 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:10:42 192.168.100.215 PicoSyslog 488250 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:41","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.451,"Yesterday":0.294,"Today":0.139,"Power":228,"ApparentPower":307,"ReactivePower":206,"Factor":0.74,"Voltage":326,"Current":0.940}}', index: 0, heapSize=113868B, heapBlock=58356 B

    [..........]

    Jul 13 13:10:49 192.168.100.215 PicoSyslog 495214 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:48","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.452,"Yesterday":0.294,"Today":0.140,"Power":228,"ApparentPower":306,"ReactivePower":204,"Factor":0.74,"Voltage":326,"Current":0.936}}', index: 0, heapSize=113852B, heapBlock=58356 B
    Jul 13 13:10:49 192.168.100.215 PicoSyslog 495255 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:10:49 192.168.100.215 PicoSyslog 495522 - [loop - thermostate_interrupt_triggered] - Interrupt detected - Reason: Thermostate=0 Status (thermostateStatus) was=OFF. heapSize=115124, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:49 192.168.100.215 PicoSyslog          [loop - thermostate_interrupt_triggered] - Strange, thermostate status was already OFF, rebounds=26. Consider to increase THERMOSTATE_INTERRUPT_DELAY (300 ms)
    Jul 13 13:10:49 192.168.100.215 PicoSyslog 495550 - [loop - thermostate_interrupt_triggered] - Exit now. heapSize=114788, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:50 192.168.100.215 PicoSyslog 496238 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:49","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.452,"Yesterday":0.294,"Today":0.140,"Power":164,"ApparentPower":180,"ReactivePower":73,"Factor":0.91,"Voltage":326,"Current":0.550}}', index: 3203352660, heapSize=113884B, heapBlock=58356 B
    Jul 13 13:10:50 192.168.100.215 PicoSyslog 496279 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:10:50 192.168.100.215 PicoSyslog 497116 - [loop - NTP_KO_CHECK_PERIOD] - CloudClockCurrentStatus=0. heapSize=115148, heapBlockSize=58356, minHeapSeen=31456 - No need for NTP sync. Exit - Time: 13/07/2025 - 13:10:50.  - 10.88.50.5 - CloudClockCurrentStatus=0. heapSize=115160, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:10:50 192.168.100.215 PicoSyslog 497150 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:10:50","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.452,"Yesterday":0.294,"Today":0.140,"Power":164,"ApparentPower":180,"ReactivePower":73,"Factor":0.91,"Voltage":326,"Current":0.550}}', index: 0, heapSize=113848B, heapBlock=58356 B
    Jul 13 13:10:50 192.168.100.215 PicoSyslog 497193 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR

    [..........]

    Jul 13 13:11:08 192.168.100.215 PicoSyslog 514301 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:11:08 192.168.100.215 PicoSyslog 515181 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:11:08","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.453,"Yesterday":0.294,"Today":0.140,"Power":164,"ApparentPower":180,"ReactivePower":75,"Factor":0.91,"Voltage":326,"Current":0.551}}', index: 0, heapSize=114028B, heapBlock=58356 B
    Jul 13 13:11:08 192.168.100.215 PicoSyslog 515222 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 515788  - [loop] - GAS interrupt detected and gas_probe_triggered routine triggered: gasClear flag was '1' (1=NO GAS, 0=GAS)
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 515787 - [loop - gas_sample] - GAS interrupt detected. Checking on GAS samples. heapSize=114800, heapBlockSize=58356, minHeapSeen=31456 - 
    Jul 13 13:11:09 192.168.100.215 PicoSyslog         [get_resistence_ratio] - GAS Samples taken.
    Jul 13 13:11:09 192.168.100.215 PicoSyslog              gasVoltCalibrated=142.00mv, RS_CurrentCalibrated=22.24, R0_CALIBRATED=3.42, ratio RS_CurrentCalibrated/R0_CALIBRATED=6.50
    Jul 13 13:11:09 192.168.100.215 PicoSyslog         [loop - gas_sample] - Clean air detected. Digital sensor input: 1 (1=NO GAS, 0=GAS)
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 515861 - [loop - gas_sample] - Exit now. heapSize=115316, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 515864  - [loop] - GAS clear after getting readings, so GAS interrupt was wrong, probably cause thermostast interrupt. Don't send MQTT message.
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 516090 - [loop - thermostate_interrupt_triggered] - Interrupt detected - Reason: Thermostate=0 Status (thermostateStatus) was=OFF. heapSize=115268, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:09 192.168.100.215 PicoSyslog          [loop - thermostate_interrupt_triggered] - Strange, thermostate status was already OFF, rebounds=28. Consider to increase THERMOSTATE_INTERRUPT_DELAY (300 ms)
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 516118 - [loop - thermostate_interrupt_triggered] - Exit now. heapSize=114932, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 516174 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:11:09","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.453,"Yesterday":0.294,"Today":0.140,"Power":59,"ApparentPower":164,"ReactivePower":153,"Factor":0.36,"Voltage":326,"Current":0.501}}', index: 3203363442, heapSize=114040B, heapBlock=58356 B
    Jul 13 13:11:09 192.168.100.215 PicoSyslog 516219 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:11:11 192.168.100.215 PicoSyslog 517229 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:11:10","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.453,"Yesterday":0.294,"Today":0.140,"Power":10,"ApparentPower":163,"ReactivePower":163,"Factor":0.06,"Voltage":326,"Current":0.501}}', index: 3203363442, heapSize=114060B, heapBlock=58356 B
    Jul 13 13:11:11 192.168.100.215 PicoSyslog 517271 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:11:11 192.168.100.215 PicoSyslog 517296 - [loop - mqtt_publish_samples] - Publishing message, reason=18, heapSize=115348, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:11 192.168.100.215 PicoSyslog 517314 - [loop - mqtt_publish_samples] - Publish samples message now. heapSize=109480, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:11 192.168.100.215 PicoSyslog 517321 - [loop - mqtt_publish_samples] - Exit. heapSize=102780, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:11 192.168.100.215 PicoSyslog 517353 - [loop] - new_samples event sent to web clients. heapSize=93264, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:11:22 192.168.100.215 PicoSyslog 528852 - [webEvents.onConnect] - Client reconnected! Last message ID that it got is: 481248
    Jul 13 13:11:22 192.168.100.215 PicoSyslog 528858 - [webEvents.onConnect] - Client reconnected! client->client()->remoteIP()=192.168.1.46
    Jul 13 13:11:22 192.168.100.215 PicoSyslog 528864 - [webEvents.onConnect] - Client reconnected! client->client()->remotePort()=64299
    Jul 13 13:11:22 192.168.100.215 PicoSyslog 528880 - [webEvents.onConnect] - Client reconnected! Last message ID that it got is:481248

    [..........]

    Jul 13 13:11:50 192.168.100.215 PicoSyslog 557117 - [loop - NTP_KO_CHECK_PERIOD] - CloudClockCurrentStatus=0. heapSize=115288, heapBlockSize=58356, minHeapSeen=31456 - No need for NTP sync. Exit - Time: 13/07/2025 - 13:11:50.  - 10.88.50.5 - CloudClockCurrentStatus=0. heapSize=115304, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:50 192.168.100.215 PicoSyslog 617118 - [loop - NTP_KO_CHECK_PERIOD] - CloudClockCurrentStatus=0. heapSize=115324, heapBlockSize=58356, minHeapSeen=31456 - No need for NTP sync. Exit - Time: 13/07/2025 - 13:12:50.  - 10.88.50.5 - CloudClockCurrentStatus=0. heapSize=115348, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624236 - [onMqttMessage] - MQTT published message received on topic='tele/tasmota_2EDC69/SENSOR', mesage: '{"Time":"2025-07-13T13:12:57","ENERGY":{"TotalStartTime":"2024-07-25T11:21:51","Total":10.453,"Yesterday":0.294,"Today":0.141,"Period":12,"Power": 9,"ApparentPower":23,"ReactivePower":21,"Factor":0.40,"Voltage":324,"Current":0.070}}', index: 0, heapSize=114000B, heapBlock=58356 B
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624280 - [onMqttMessage] - tele/tasmota_2EDC69/SENSOR
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624303 - [loop - mqtt_publish_samples] - Publishing message, reason=18, heapSize=114464, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624320 - [loop - mqtt_publish_samples] - Publish samples message now. heapSize=107936, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624327 - [loop - mqtt_publish_samples] - Exit. heapSize=102744, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624361 - [loop] - new_samples event sent to web clients. heapSize=92808, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624413 - [webServer.on] - /boiler-blue.png, heapSize=109156, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:12:58 192.168.100.215 PicoSyslog 624445 - [webServer.on] - /boiler-blue.png exit. heapSize=105920, heapBlockSize=58356, minHeapSeen=31456
    Jul 13 13:13:50 192.168.100.215 PicoSyslog 677118 - [loop - NTP_KO_CHECK_PERIOD] - CloudClockCurrentStatus=0. heapSize=115312, heapBlockSize=58356, minHeapSeen=31456 - No need for NTP sync. Exit - Time: 13/07/2025 - 13:13:50.  - 10.88.50.5 - CloudClockCurrentStatus=0. heapSize=115328, heapBlockSize=58356, minHeapSeen=31456


- Get and Show Smart Plug's IP address in web page with link to it
- Get Energy values on gas_sample periods at boot time to update the index web page accordingly

Done
--------
- detect thermostate on/off
- relay controls Rl1 and Rl2
- MQTT
- Send notification if gas leaks detected
- Update pandora with Thermostat activity
- Prevent from activating Relays in gas leak situation
- Error counters
  + WiFi connections
  + HTTP Cloud sample update
  + NTP sync
  + MQTT update
  + Uncontrolled resets
- MQTT Sensor
  + Boot count since last firmware update
  + Uncontrolled reset count
  + Other error counters
- Save in EEPROM durations of boiler burnings: today, yesterday, month, year
- Init NTP-dependant modules after NTP initialization during normal execution:
  + EEPROM Time counters
- Init wifi-dependant modules after wifi initialization during normal execution:
  + NTP, WebServer, WebSocket, MQTT, Upload server
- Variables for:
  + Min heap size seen since last boot
  + debugModeOn => Global logs ON/OFF
  + serialLogsOn => Serial logs ON/OFF
  + webLogsOn => Web logs ON/OFF
  + Web configuration/visualization support
- Check webserver and restart if needed
  + Init webserver-dependant modules after webserver initialization during normal execution:
    * WebSocket
- Forcing to free up heap memory in the event it's below a thresholds
  + Switch WiFi OFF/ON, WebServer OFF/ON, etc.
- Troubleshooting
  + ISS004: GAS interrupt trigered when THERMOSTAT interrupt is trigered too (and viceversa??). Fixed in 0.9.2
    Fix: it can't be avoided (due to static???), but GAS notificacion is done only if readings taken just right after GAS interrupt show GAS.
  + ISS001: Wrong info in logs from boot time - v0.9.3
    *   [printCurrentWiFi] - Signal strength (RSSI): e memory for RF calibration data => Use WiFi.SSID() instead of wifiNet.RSSI ?
    *   [printCurrentWiFi] - Encryption Type: 3
    *   [printCurrentWiFi] - WiFi Channel: E (%u) %s: %s: store calibration mac failed(0x%x)
  + ISS002: Unexpected reboot
    * Fixed in v0.9.6. Not delete webServer nor webSocket objects
  + ISS003: Preventive reset are too often. RCA - seems to be related to the frequent WiFi disconnections due to the weak WiFi signal
    * Fixed in v0.9.6. Decreased WEBSERVER_MIN_HEAP_SIZE threshold 
  + ISS005: Web server KO after WiFi reconnection
    * Fixed in v0.9.6. Not delete webServer nor webSocket objects
  + ISS006: Side Col height for Graphs, Global Info, Basic Configuration, Console html pages
  + ISS007: HA takes doesn't refresh quickly Heater Status/Icon after IoT restart (ie. firmware upgred)
    * Fixed in v0.9.7 - MQTT HADiscovery packets are sent several times after bootup
  + ISS008: Randomly crash (heap getting off ??)
    * Fixed in v0.9.B. See IS0016 for the fix
  + ISS009: Web server not available randomly (connectivty lost ??)
    * Fixed in v0.9.B. See IS0016 for the fix
  + ISS010: Time On Today counter not saved in Yesterday when passing to the next day
    * Fixed in v0.9.9 - boiler variables were not updated in one_second_check_period function
  + ISS011: No subscripion on MQTT power Topic after enabling MQTT Power Measurements in web
    * Fixed in v0.9.9 - webServer.cpp
  + ISS012: Web server not available randomly and/or connectivy lost if boiler is ON (mqttmessages) and having active SSE clients (index.html)
    * Fixed in v0.9.B. See IS0016 for the fix
  + ISS013: Web server not available randomly and/or connectivy lost if there are both console clientes open and having active SSE clients (index.html)
    * Fixed in v0.9.B. See IS0016 for the fix
  + IS0014: boilerOnToday and boilerOnYesterday not saved correctly in EEPROM when changing day
    * boilerOnYesterday=0, boilerOnToday=88 => change day => boilerOnYesterday=88, boilerOnToday=0 => Reboot ==> boilerOnYesterday=0, boilerOnToday=198
    * Fixed in v0.9.B
  + IS0015: boiler and heater Time On Mounth counters not reset
    * Fixed in v0.9.B
  + IS0016: Some objects in the HA Discovery message are not recognized by HA in the very first packet sent after booting up
    * Fixed in v0.9.B
  + IS0017: New code to send HA Discovery MQTT message to reduce heap size and heap fragmentation
    * Fixed in v0.9.B
    * No String(...).c_str() usage 
    * Split HA Discovery messages into 8 functions
- Remove year from the MQTT topic for both previous and current years - v0.9.9
- Time counters for boiler, similar to the heater ones - v0.9.9
- Show Current Power (and Energy ?) in the index page - v0.9.9
- Deleted references to NTPResuming - v0.9.9
- Color grey Web boiler icon and Energy info if not powerMeasureEnabled - v0.9.9
- Set N/A or N/E to the values related to SmartPlug if powerMeasureEnabled is disabled from web - v0.9.9
- New strategy to create the mqtt HADiscovery message payload different than String to reduce heap consumption - v0.9.B
- New approach based on updating html id tags with javascript for serving dynamic web content
  + graphs and container still with ~ processing
- syslog v1.1.1
- logs switches in both web and mqtt

  Discarded
  -------------
- Load time counters after NTP is synced if it wasn't during bootup.
  + Sum current time counters (if needed) to EEPROM ones and save them in EEPROM.
  ==> It's complex as it might impact today's and yesterday's counters, and different month and years.