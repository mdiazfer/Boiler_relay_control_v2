Change Log
----------
v0.9.9  - Remove year from the MQTT topic for both previous and current years
        - Added support for MQTT Power Topic subscription
        - Added boiler activity info (on and burning gas) in the index web page
v0.9.8  - Added Stats web page
v0.9.7  - Added Dasboard web page
          + Web Event for sample update
          + Web Socket for toogle the Relay switches
v0.9.6  - Error counters save in EEPROM
        - Added button to reset counters
        - Added specific counter for resets due to web server failing
v0.9.5  - New variables for:
          + Min heap size seen since last boot
          + debugModeOn => Global logs ON/OFF
          + serialLogsOn => Serial logs ON/OFF
          + webLogsOn => Web logs ON/OFF
          + Web configuration/visualization support
        - Check connectivity and webserver and restart if needed
        - Forcing to free up heap memory in the event it's below a thresholds
          + Switch WiFi OFF/ON, WebServer OFF/ON, etc.
v0.9.4  - Minor bug fixing
v0.9.3  - Bug fixing ISS001
v0.9.2  - Init NTP-dependant modules after NTP initialization during normal execution:
          + EEPROM Time counters
        - Init wifi-dependant modules after wifi initialization during normal execution:
          + NTP, WebServer, WebSocket, MQTT, Upload server
v0.9.1  - WebSerial for log webconsole
        - OTA support
        - Web logs support
        - Time counters saved in EEPPROM
v0.9.0  - MQTT improvements
	        + Time on counters: year, moths, yesterday, today
v0.8.9  - First stable version with HA support


To do list for boiler relay control
-----------------------------------
- Troubleshooting
  + ISS008: Crash from time to time (heap getting off ??)
  + ISS009: Web server not available from time to time (connectivty lost ??)
- Get and Show Smart Plug's IP address in web page with link to it
- Get Energy values on gas_sample periods and at boot time to update the index web page accordingly
- Color grey Web boiler icon and Energy info if not powerMeasureEnabled
- New boiler icon if it's burning gas (boilerOn or thermostateOn)
- Increase period to send readings (??)
- Date in logs in addition to milliseconds

Done
--------
- detect thermostate on/off
- relay controls Rl1 and Rl2
- MQTT
- Send notification if gas leaks detected
- Update pandora with Thermostat activity
- Prevent from activating Relays in gas leak situation
- Error counters
  + WiFi connections
  + HTTP Cloud sample update
  + NTP sync
  + MQTT update
  + Uncontrolled resets
- MQTT Sensor
  + Boot count since last firmware update
  + Uncontrolled reset count
  + Other error counters
- Save in EEPROM durations of boiler burnings: today, yesterday, month, year
- Init NTP-dependant modules after NTP initialization during normal execution:
  + EEPROM Time counters
- Init wifi-dependant modules after wifi initialization during normal execution:
  + NTP, WebServer, WebSocket, MQTT, Upload server
- Variables for:
  + Min heap size seen since last boot
  + debugModeOn => Global logs ON/OFF
  + serialLogsOn => Serial logs ON/OFF
  + webLogsOn => Web logs ON/OFF
  + Web configuration/visualization support
- Check webserver and restart if needed
  + Init webserver-dependant modules after webserver initialization during normal execution:
    * WebSocket
- Forcing to free up heap memory in the event it's below a thresholds
  + Switch WiFi OFF/ON, WebServer OFF/ON, etc.
- Troubleshooting
  + ISS004: GAS interrupt trigered when THERMOSTAT interrupt is trigered too (and viceversa??). Fixed in 0.9.2
    Fix: it can't be avoided (due to static???), but GAS notificacion is done only if readings taken just right after GAS interrupt show GAS.
  + ISS001: Wrong info in logs from boot time - v0.9.3
    *   [printCurrentWiFi] - Signal strength (RSSI): e memory for RF calibration data => Use WiFi.SSID() instead of wifiNet.RSSI ?
    *   [printCurrentWiFi] - Encryption Type: 3
    *   [printCurrentWiFi] - WiFi Channel: E (%u) %s: %s: store calibration mac failed(0x%x)
  + ISS002: Unexpected reboot
    * Fixed in v0.9.6. Not delete webServer nor webSocket objects
  + ISS003: Preventive reset are too often. RCA - seems to be related to the frequent WiFi disconnections due to the weak WiFi signal
    * Fixed in v0.9.6. Decreased WEBSERVER_MIN_HEAP_SIZE threshold 
  + ISS005: Web server KO after WiFi reconnection
    * Fixed in v0.9.6. Not delete webServer nor webSocket objects
  + ISS006: Side Col height for Graphs, Global Info, Basic Configuration, Console html pages
  + ISS007: HA takes doesn't refresh quickly Heater Status/Icon after IoT restart (ie. firmware upgred)
    * Fixed in v0.9.7 - MQTT HADiscovery packets are sent several times after bootup
- Remove year from the MQTT topic for both previous and current years - v0.9.9
- Time counters for boiler, similar to the heater ones - v0.9.9
- Show Current Power (and Energy ?) in the index page - v0.9.9

  Discarded
  -------------
- Load time counters after NTP is synced if it wasn't during bootup.
  + Sum current time counters (if needed) to EEPROM ones and save them in EEPROM.
  ==> It's complex as it might impact today's and yesterday's counters, and different month and years.